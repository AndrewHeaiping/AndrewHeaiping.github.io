---
layout: post
title: "微信小程序开发"
date: 2019-06-18
description: "小程序开发教程"
tag: 小程序开发
---

### 微信小程序开发

1. 获取微信小程序的 AppID

2. 利用开发者工具创建项目

   *  创建流程

      微信扫码登录——>选择项目，填写AppID，并给本地项目命名——>选择本地存储文件夹

   * 项目文件结构

     * 

3. 主要页面、逻辑的编写

   * app.js ：这个文件可以监听并处理小程序的生命周期函数、声明全局变量，调用 MINA 提供的丰富的 API，如同步存储及同步读取本地数据。

     ~~~js
     //app.js
     App({
       onLaunch: function () {
         // 调用 API 从本地缓存中获取数据
         var logs = wx.getStorageSync('logs') || []
         logs.unshift(Date.now())
         wx.setStorageSync('logs', logs)
       },
       getUserInfo:function(cb){
         var that = this;
         if(this.globalData.userInfo){
           typeof cb == "function" && cb(this.globalData.userInfo)
         }else{
           // 调用登录接口
           wx.login({
             success: function () {
               wx.getUserInfo({
                 success: function (res) {
                   that.globalData.userInfo = res.userInfo;
                   typeof cb == "function" && cb(that.globalData.userInfo)
                 }
               })
             }
           });
         }
       },
       globalData:{
         userInfo:null
       }
     })
     ~~~

   * app.json  : 是对整个小程序的全局配置。可以在这个文件中配置小程序是由哪些页面组成，配置小程序的窗口背景色、配置导航条样式、配置默认标题。（注意该文件不可添加任何注释）

     ~~~json
     {
       "pages":[
         "pages/index/index", 
         "pages/logs/logs"
       ],
       "window":{
         "backgroundTextStyle":"light",
         "navigationBarBackgroundColor": "#fff",
         "navigationBarTitleText": "WeChat",
         "navigationBarTextStyle":"black"
       }
     }
     ~~~

   * app.wxss : 整个小程序的公共样式表，可以在页面组件的 class 属性上直接使用 app.wxss 中声明的样式规则。

     ~~~wxss
     /**app.wxss**/
     .container {
       height: 100%;
       display: flex;
       flex-direction: column;
       align-items: center;
       justify-content: space-between;
       padding: 200rpx 0;
       box-sizing: border-box;
     }
     ~~~

     持续更新中，未完待续....

